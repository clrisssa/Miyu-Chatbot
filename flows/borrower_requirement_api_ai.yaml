name: borrower_requirement_api_ai
states:
    stop_schedule_state:
        component: meya.schedule_stop
        properties:
            tag: schedule
    state0:
        component: meya.text
        properties:
            text: Before that, let's find out more about your company!
        delay:
            relative: 1
    # *******************************************************************************
    state1:
        component: meya.api_ai
        properties:
            text: Is your company incorporated in Singapore? (Yes/No)
            client_access_token: db5893f5957b471f8199307419abca95
            language: en
            error_message: I didn't understand
            min_confidence: 0.8
            require_match: false
        transitions:
            yes_intent: state2
            yes_incorporated_sg: state2
            no_intent: overseas
            no_incorporated_sg: overseas
            no_match: ambiguous_state1
    ambiguous_state1:
        component: meya.text
        properties:
            text: Sorry I didn't quite understand that. Would you mind to try again?
        transitions:
            next: state1
    # *******************************************************************************
    state2:
        component: meya.api_ai
        properties:
            text: Does your company have Singaporean or Permanent Resident Director(s) with at least 30% shareholding? (Yes/No)
            client_access_token: db5893f5957b471f8199307419abca95
            language: en
            error_message: I didn't understand
            min_confidence: 0.8
            require_match: false
        transitions:
            yes_intent: state3
            yes_singaporean_pr: state3
            no_intent: ineligible
            no_singaporean_pr: ineligible
            no_match: ambiguous_state2
    ambiguous_state2:
        component: meya.text
        properties:
            text: Sorry I didn't quite understand that. Would you mind to try again?
        transitions:
            next: state2
    # *******************************************************************************
    state3:
        component: meya.api_ai
        properties:
            text: Is your company a Private Limited Company (Pte Ltd) or a Limited Liability Partnership (LLP)? (Yes/No)
            client_access_token: db5893f5957b471f8199307419abca95
            language: en
            error_message: I didn't understand
            min_confidence: 0.8
            require_match: false
        transitions:
            yes_intent: state4
            yes_pteltd_llp: state4
            no_intent: not_pte_ltd_or_llp
            no_pteltd_llp: not_pte_ltd_or_llp
            no_match: ambiguous_state3
    ambiguous_state3:
        component: meya.text
        properties:
            text: Sorry I didn't quite understand that. Would you mind to try again?
        transitions:
            next: state3
    # *******************************************************************************
    state4:
        component: meya.api_ai
        properties:
            text: Has your business been in operations for at least a year? (Yes/No)
            client_access_token: db5893f5957b471f8199307419abca95
            language: en
            error_message: I didn't understand
            min_confidence: 0.8
            require_match: false
        transitions:
            yes_intent: state5
            yes_a_year: state5
            no_intent: ineligible
            no_a_year: ineligible
            no_match: ambiguous_state4
    ambiguous_state4:
        component: meya.text
        properties:
            text: Sorry I didn't quite understand that. Would you mind to try again?
        transitions:
            next: state4
    # count_years:
    #     component: count_years
    # *******************************************************************************
    state5:
        component: meya.api_ai
        properties:
            text: Is your company's annual turnover more than $300K? (Yes/No)
            client_access_token: db5893f5957b471f8199307419abca95
            language: en
            error_message: I didn't understand
            min_confidence: 0.8
            require_match: false
        transitions:
            yes_intent: state6
            yes_turnover: state6
            no_intent: ineligible
            no_turnover: ineligible
            no_match: ambiguous_state5
    ambiguous_state5:
        component: meya.text
        properties:
            text: Sorry I didn't quite understand that. Would you mind to try again?
        transitions:
            next: state5
    # *******************************************************************************
    state6:
        component: meya.text
        properties:
            text: Great! All that is left is for you to leave your Name, Company Name and Contact Number/Email so that we can contact you!
        transitions:
            next: done
    # *******************************************************************************
    done:
        flow: record_details2
        return: true
    # *******************************************************************************
    ineligible:
        component: meya.text
        properties:
            text: Oh in that case, I would like to refer you to FS Bolt instead! You can take up a loan of between $5K to $20K. And application is done entirely online! You can find out more about FS Bolt at http://bolt.fundingsocieties.com/
        transitions:
            next: anything_else_schedule
    not_pte_ltd_or_llp:
        component: meya.text
        properties:
            text: Oh, currently we are only licensed to provide loans to Pte Ltd and LLP companies. However, if you are interested to convert your company, we are most happy to help!
        transitions:
            next: anything_else_schedule
    overseas:
        component: meya.text
        properties:
            text: Unfortunately, we are only able to provide loans to Singapore registered businesses. Perhaps you can look for other P2P lenders in your country/region. Nonetheless, we wish you all the best!
        transitions:
            next: anything_else_schedule
    # *******************************************************************************
    anything_else_schedule:
        flow: anything_else_schedule
